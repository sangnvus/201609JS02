@model BSNCapstone.Models.Book

@{
    ViewBag.Title = "Details";
    Layout = "~/Views/Shared/_Layout.cshtml";
    var allCategory = ((List<BSNCapstone.Models.Category>)ViewBag.ListCategory);
    <!--DangVH. Create. Start (02/11/2016)-->
    var cloudinary = (CloudinaryDotNet.Cloudinary)ViewBag.cloudinary;
    <!--DangVH. Create. End (02/11/2016)-->
}

<h2>Details</h2>

<div>
    <h4>Book</h4>
    <hr />
    <dl class="dl-horizontal">
        <dt>
            @Html.DisplayNameFor(model => model.BookName)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.BookName)
        </dd>

        <!--DangVH. Create. Start (02/11/2016)-->
        <dt>
            @Html.DisplayNameFor(model => model.ImgPublicId)
        </dt>

        <dd>
            @(cloudinary.Api.UrlImgUp.Format("jpg").Transform(new CloudinaryDotNet.Transformation()
                .Height(130).Width(130).Crop("fill")).BuildImageTag(Model.ImgPublicId,
                new CloudinaryDotNet.StringDictionary("class=thumbnail inline")))
        </dd>
        <!--DangVH. Create. End (02/11/2016)-->

        <dt>
            @Html.DisplayNameFor(model => model.Authors)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Authors)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.Publishers)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Publishers)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.ReleaseDay)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.ReleaseDay)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.Description)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Description)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.Categories)
        </dt>

        <dd>
            @{
                foreach (var item in allCategory)
                {
                    <p>@Html.DisplayFor(categoryItem => item.CategoryName)</p>
                }
            }
        </dd>

    </dl>
</div>
<p>
    @Html.ActionLink("Edit", "Edit", new { id = Model.Id }) |
    @Html.ActionLink("Back to List", "Index")
</p>

